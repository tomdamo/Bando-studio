[gd_scene load_steps=17 format=3 uid="uid://cnik52f7s7roy"]

[ext_resource type="Script" path="res://Scripts/World.gd" id="1_n5lml"]
[ext_resource type="Material" uid="uid://ctdl8fx6qghl7" path="res://Textures/groundTexture.tres" id="2_mnjd3"]
[ext_resource type="Material" uid="uid://doe4ki7xdi47w" path="res://Textures/walltext.tres" id="3_acm4n"]
[ext_resource type="Texture2D" uid="uid://dwnp3387tfw5x" path="res://Textures/Skybox/SpacePanoramas/panorama6.jpg" id="4_q3lty"]
[ext_resource type="PackedScene" uid="uid://d3rsri2ovmpmk" path="res://Scenes/Player/player.tscn" id="5_s3s2r"]
[ext_resource type="Script" path="res://Scripts/Enemy/AI/BasicGuard.gd" id="8_srx51"]

[sub_resource type="PlaneMesh" id="PlaneMesh_48nfy"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_m3pch"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_ivoyt"]
panorama = ExtResource("4_q3lty")

[sub_resource type="Sky" id="Sky_jl18b"]
sky_material = SubResource("PanoramaSkyMaterial_ivoyt")

[sub_resource type="Environment" id="Environment_1gnt6"]
background_mode = 2
sky = SubResource("Sky_jl18b")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_56hxk"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_v3jhj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x3tvo"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_roe8x"]
material = SubResource("StandardMaterial3D_x3tvo")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_6j5f7"]
points = PackedVector3Array(-0.000195742, 1, -0.000195742, 0.194988, -1, -0.980814, -0.000195742, -1, -1, -0.195184, -1, -0.980814, -0.382733, -1, -0.924041, -0.555599, -1, -0.831637, -0.707126, -1, -0.707126, -0.831637, -1, -0.555599, -0.924041, -1, -0.382733, -0.980814, -1, -0.195184, -1, -1, -0.000195742, -0.980814, -1, 0.194988, -0.924041, -1, 0.382537, -0.831637, -1, 0.555403, -0.707126, -1, 0.70693, -0.555599, -1, 0.831441, -0.382733, -1, 0.923845, -0.195184, -1, 0.980619, -0.000195742, -1, 1, 0.194988, -1, 0.980619, 0.382537, -1, 0.923845, 0.555403, -1, 0.831441, 0.70693, -1, 0.70693, 0.831441, -1, 0.555403, 0.923845, -1, 0.382537, 0.980619, -1, 0.194988, 1, -1, -0.000195742, 0.980619, -1, -0.195184, 0.923845, -1, -0.382733, 0.831441, -1, -0.555599, 0.70693, -1, -0.707126, 0.555403, -1, -0.831637, 0.382537, -1, -0.924041)

[node name="World" type="Node3D"]
script = ExtResource("1_n5lml")

[node name="Prototype" type="CSGCombiner3D" parent="."]
use_collision = true
collision_layer = 3

[node name="GroundHall1" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, 0, 0, 0, 0.999995, 0.00324631, 0, -0.00324631, 0.999995, 2.03791, -3.04864, -0.618693)
layers = 2
size = Vector3(15, 1, 15)
material = ExtResource("2_mnjd3")

[node name="GroundHall2" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1.02907, 0, 0, 0, 1.02907, 0, 0, 0, 1.02907, -13.242, -3.04864, -0.317025)
layers = 2
size = Vector3(15.4736, 1, 4.74316)
material = ExtResource("2_mnjd3")

[node name="GroundHall3" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.0052, -3.04864, -4.93987)
layers = 2
size = Vector3(15, 1, 1.12128)
material = ExtResource("2_mnjd3")

[node name="GroundHall4" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.6582, -3.07382, -3.54745)
layers = 2
size = Vector3(1.25391, 1, 1.69041)
material = ExtResource("2_mnjd3")

[node name="GroundHall5" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, 0, 0, 0, 0.999995, 0.00324631, 0, -0.00324631, 0.999995, -28.0606, -3.06045, -4.25493)
layers = 2
size = Vector3(15, 1, 22.2751)
material = ExtResource("2_mnjd3")

[node name="Wall1" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 9.06206, -0.572517, -0.653283)
layers = 4
size = Vector3(14.9172, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall2" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -4.9809, -0.561724, 4.35954)
layers = 4
size = Vector3(4.99457, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall18" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -35.3395, -0.780006, -4.25919)
layers = 4
size = Vector3(22.129, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall19" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -21.229, -0.561724, 4.26498)
layers = 4
size = Vector3(5.18368, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall21" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -21.229, -0.561724, -3.72833)
layers = 4
size = Vector3(1.70805, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall22" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(0.000227091, -0.000188698, 1, 2.8969e-05, 1, 0.000188689, -1, 2.8911e-05, 0.000227098, -21.229, -0.0105585, -4.96334)
layers = 4
size = Vector3(0.908224, 2.87585, 1)
material = ExtResource("3_acm4n")

[node name="Wall20" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -21.229, -0.561724, -10.428)
layers = 4
size = Vector3(9.98589, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall5" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -4.9809, -0.0678275, -5.36688)
layers = 4
size = Vector3(5.41205, 3.01221, 1)
material = ExtResource("3_acm4n")

[node name="Wall8" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -4.97999, -2.05016, -3.58059)
layers = 4
size = Vector3(1.77673, 0.999268, 1)
material = ExtResource("3_acm4n")

[node name="Wall9" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -4.97999, -2.05016, -6.75108)
layers = 4
size = Vector3(2.68625, 0.999268, 1)
material = ExtResource("3_acm4n")

[node name="Wall3" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(0.999994, 0.00343829, 3.47586e-16, -0.00343829, 0.999994, -3.49984e-16, -3.48787e-16, 3.48787e-16, 1, 1.93051, -0.540244, -7.56507)
layers = 4
size = Vector3(13.3929, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall6" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -9.86899, -0.580899, -2.42463)
layers = 4
size = Vector3(8.56868, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall12" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -9.86899, -2.53507, -3.68906)
layers = 4
size = Vector3(8.56868, 2.07812, 1.61035)
material = ExtResource("3_acm4n")

[node name="Wall13" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -13.2305, -2.54407, -6.00555)
layers = 4
size = Vector3(15.6653, 2.07812, 1.01965)
material = ExtResource("3_acm4n")

[node name="Wall14" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -13.0368, -1.37066, -4.99485)
layers = 4
size = Vector3(14.5381, 0.287598, 1.01965)
material = ExtResource("3_acm4n")

[node name="Wall16" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -14.6466, -1.37066, -3.7352)
layers = 4
size = Vector3(1.33327, 0.287598, 1.56937)
material = ExtResource("3_acm4n")

[node name="Wall10" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -17.9021, -0.580899, -2.42463)
layers = 4
size = Vector3(5.22574, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall15" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -17.8217, -2.02188, -3.7541)
layers = 4
size = Vector3(5.00728, 1.11804, 1.71045)
material = ExtResource("3_acm4n")

[node name="Wall11" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -14.6945, -0.127286, -2.42463)
layers = 4
size = Vector3(1.14341, 3.09277, 1)
material = ExtResource("3_acm4n")

[node name="Wall7" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -17.5552, -0.556189, 1.53585)
layers = 4
size = Vector3(5.77891, 4.10254, 1)
material = ExtResource("3_acm4n")

[node name="Wall24" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -8.46468, -0.556189, 1.53585)
layers = 4
size = Vector3(5.77891, 4.10254, 1)
material = ExtResource("3_acm4n")

[node name="Wall25" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -12.9944, 1.08825, 1.53585)
layers = 4
size = Vector3(3.38363, 0.81366, 1)
material = ExtResource("3_acm4n")

[node name="Wall26" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -12.9944, -2.14138, 1.53585)
layers = 4
size = Vector3(3.38363, 0.81366, 1)
material = ExtResource("3_acm4n")

[node name="Wall4" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, 1.90367, -0.549502, 6.4533)
layers = 4
size = Vector3(13.3929, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall17" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -28.0559, -0.603896, 6.47721)
layers = 4
size = Vector3(13.3929, 4, 1)
material = ExtResource("3_acm4n")

[node name="Wall23" type="CSGBox3D" parent="Prototype"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -28.0559, -0.603896, -14.9316)
layers = 4
size = Vector3(13.3929, 4, 1)
material = ExtResource("3_acm4n")

[node name="CEILING" type="CSGMesh3D" parent="Prototype"]
transform = Transform3D(-7.6414, 7.78827e-08, 2.59757e-15, -6.68032e-07, -0.890875, -2.59757e-15, 2.66522e-15, -3.10725e-16, 7.44745, 2.19647, 1.37726, -0.442291)
mesh = SubResource("PlaneMesh_48nfy")
material = SubResource("StandardMaterial3D_m3pch")

[node name="CEILING3" type="CSGMesh3D" parent="Prototype"]
transform = Transform3D(-7.96343, 7.78827e-08, 8.42872e-16, -6.96185e-07, -0.890875, -8.42872e-16, 2.77754e-15, -3.10725e-16, 2.41658, -13.3823, 1.37726, -0.431913)
mesh = SubResource("PlaneMesh_48nfy")
material = SubResource("StandardMaterial3D_m3pch")

[node name="CEILING2" type="CSGMesh3D" parent="Prototype"]
transform = Transform3D(-7.6414, 7.78827e-08, 5.05985e-15, -6.68032e-07, -0.890875, -5.05985e-15, 2.66522e-15, -3.10725e-16, 14.507, -28.2041, 1.37726, -7.95507)
mesh = SubResource("PlaneMesh_48nfy")
material = SubResource("StandardMaterial3D_m3pch")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1gnt6")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment" groups=["lights"]]
transform = Transform3D(1, 0, 0, 0, 0.0367309, 0.999325, 0, -0.999325, 0.0367309, -12.9848, 41.0897, 0)
light_energy = 0.486
light_bake_mode = 1

[node name="Player" parent="." instance=ExtResource("5_s3s2r")]
transform = Transform3D(0.999997, -0.0020334, 0.00141364, 0.0020311, 0.999997, 0.00161359, -0.00141695, -0.00161069, 0.999998, -3.91919, 0, 3.64091)

[node name="Enemy" type="CharacterBody3D" parent="."]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, -2, -1.5, 4)
collision_layer = 2
collision_mask = 2
floor_constant_speed = true
script = ExtResource("8_srx51")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy"]
shape = SubResource("CapsuleShape3D_56hxk")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Enemy"]
layers = 2
mesh = SubResource("CapsuleMesh_v3jhj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.342339, -0.211782)
layers = 2
mesh = SubResource("SphereMesh_roe8x")

[node name="VisionArea" type="Area3D" parent="Enemy"]
collision_layer = 2

[node name="CollisionShapeCone" type="CollisionShape3D" parent="Enemy/VisionArea"]
transform = Transform3D(10, 0, 0, 0, -4.37114e-07, -10, 0, 10, -4.37114e-07, 0, 0.31566, -10.7582)
shape = SubResource("ConvexPolygonShape3D_6j5f7")

[node name="VisionTimer" type="Timer" parent="Enemy"]
wait_time = 0.25
autostart = true

[node name="VisionRaycast" type="RayCast3D" parent="Enemy"]
target_position = Vector3(2.08165e-12, 5, -100)
collide_with_areas = true
debug_shape_custom_color = Color(1, 0, 0, 1)
