[gd_scene load_steps=19 format=3 uid="uid://4i5csj0s34nb"]

[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="1_gm4dk"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3D.gd" id="2_32qfk"]
[ext_resource type="Texture2D" uid="uid://c6t5uouul4cf7" path="res://Textures/Crosshair/Crosshair 2.png" id="2_t01fh"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="3_5feqe"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/camera_3D_resource.gd" id="4_kk8js"]
[ext_resource type="Script" path="res://Scripts/player_controller_third_person.gd" id="5_y8pq1"]
[ext_resource type="Texture2D" uid="uid://dbe1rrtc6aowd" path="res://Textures/PNG/Orange/texture_03.png" id="7_skg8d"]
[ext_resource type="PackedScene" path="res://Scenes/UI/PauseMenu.tscn" id="8_p1cf0"]

[sub_resource type="Resource" id="Resource_0yw0t"]
script = ExtResource("3_5feqe")
duration = 0.3
transition = 1
ease = 2

[sub_resource type="Resource" id="Resource_bai5y"]
script = ExtResource("4_kk8js")
cull_mask = 1048575
h_offset = 0.0
v_offset = 0.0
fov = 75.0

[sub_resource type="Resource" id="Resource_xvcjx"]
script = ExtResource("3_5feqe")
duration = 0.25
transition = 1
ease = 2

[sub_resource type="Resource" id="Resource_yf1op"]
script = ExtResource("4_kk8js")
cull_mask = 1048575
h_offset = 1.0
v_offset = 0.0
fov = 50.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ql8o6"]
height = 1.31571

[sub_resource type="CylinderShape3D" id="CylinderShape3D_najck"]
height = 0.716239

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_liqiy"]
albedo_texture = ExtResource("7_skg8d")

[sub_resource type="CapsuleMesh" id="CapsuleMesh_va1r7"]

[sub_resource type="PrismMesh" id="PrismMesh_rqd08"]

[sub_resource type="SphereMesh" id="SphereMesh_gr5ao"]

[node name="Player" type="Node3D"]

[node name="MainCamera3D" type="Camera3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.499999, 0, -0.5, 0.866023, -0.019, 1.75, 3.01508)
current = true

[node name="PhantomCameraHost" type="Node" parent="MainCamera3D"]
script = ExtResource("1_gm4dk")

[node name="PlayerPhantomCamera3D" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.499999, 0, -0.5, 0.866023, -0.019, 1.75, 3.01508)
script = ExtResource("2_32qfk")
priority_override = false
priority = 10
follow_mode = 6
follow_target = NodePath("../PlayerCharacterBody3D")
follow_parameters/spring_arm/spring_length = 3.5
follow_parameters/spring_arm/collision_mask = 1
follow_parameters/spring_arm/shape = null
follow_parameters/spring_arm/margin = 0.2
follow_parameters/target_offset = Vector3(0, 0, 0)
follow_parameters/damping = true
follow_parameters/damping_value = 30.867
look_at_mode = 0
tween_parameters = SubResource("Resource_0yw0t")
tween_on_load = false
inactive_update_mode = 0
camera_3D_resource = SubResource("Resource_bai5y")

[node name="PlayerAimPhantomCamera3D" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(0.953716, -0.0104945, 0.300522, 0, 0.99939, 0.0348995, -0.300706, -0.0332842, 0.953135, 0.431783, 0.847349, 1.4137)
script = ExtResource("2_32qfk")
priority_override = false
priority = 0
follow_mode = 6
follow_target = NodePath("../PlayerCharacterBody3D")
follow_parameters/spring_arm/spring_length = 1.5
follow_parameters/spring_arm/collision_mask = 1
follow_parameters/spring_arm/shape = null
follow_parameters/spring_arm/margin = 0.5
follow_parameters/target_offset = Vector3(0, 0.795, 0)
follow_parameters/damping = false
look_at_mode = 0
tween_parameters = SubResource("Resource_xvcjx")
tween_on_load = false
inactive_update_mode = 0
camera_3D_resource = SubResource("Resource_yf1op")

[node name="PlayerCharacterBody3D" type="CharacterBody3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(0.999903, 0.0139622, 0, -0.0139622, 0.999903, 0, 0, 0, 1, -0.019, 0, -0.016)
script = ExtResource("5_y8pq1")

[node name="Control" type="Control" parent="PlayerCharacterBody3D"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Crosshair" type="TextureRect" parent="PlayerCharacterBody3D/Control"]
modulate = Color(1, 1, 1, 0.458824)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 914.0
offset_top = 491.0
offset_right = 1426.0
offset_bottom = 1003.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.1, 0.1)
texture = ExtResource("2_t01fh")

[node name="PlayerCollisionShape3D2" type="CollisionShape3D" parent="PlayerCharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 4.65661e-10, 0, 0, 1, 0.00433989, 0.262119, 0)
shape = SubResource("CapsuleShape3D_ql8o6")

[node name="PlayerArea3D" type="Area3D" parent="PlayerCharacterBody3D"]

[node name="PlayerCollisionShape3D" type="CollisionShape3D" parent="PlayerCharacterBody3D/PlayerArea3D"]
transform = Transform3D(1, 0, 0, 0, 1, 4.65661e-10, 0, 0, 1, -0.00370558, 0.19376, 0)
shape = SubResource("CylinderShape3D_najck")

[node name="PlayerModel" type="Node3D" parent="PlayerCharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.008, 0, 0)

[node name="Body" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel"]
transform = Transform3D(-0.219336, 1.95358e-08, -2.17616e-24, 8.38164e-16, 9.76792e-09, -0.142737, -1.9175e-08, -0.223464, -6.23923e-09, 0.00348353, -0.0905691, -0.00545263)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
metadata/_edit_group_ = true

[node name="tail" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.200176, 5.02585e-10, 4.98004e-10, 3.57916e-10, -0.19164, -0.192883, -4.63462e-12, 0.552974, -0.213477, 0.0675806, 0.93846, -0.872969)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="tail1" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.200321, 5.33793e-10, 4.9778e-10, 2.76191e-10, 0.046193, -0.223673, -4.14333e-10, 0.68893, 0.055589, 0.0675806, 1.06543, -1.93834)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="tailtop" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.200332, 4.7859e-10, 4.09816e-10, -7.14289e-11, 0.319545, -0.0643491, -6.37688e-10, 0.224017, 0.316777, 0.0656344, 0.768992, -2.79989)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="tailyeet" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.199287, 4.76091e-10, 4.07677e-10, 1.578e-10, -0.338654, 0.0176353, 5.80423e-10, -0.0681179, -0.334366, 0.0656344, 0.359439, -2.94013)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("PrismMesh_rqd08")
skeleton = NodePath("../..")

[node name="Body6" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(-0.0815936, 0.210708, 0.21213, 0.151784, 0.0784491, 0.0784914, -0.000316987, 0.552851, -0.2136, 0.644328, 0.440904, 0.486037)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body7" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.0154305, 0.230104, 0.231596, 0.165725, -0.0147725, -0.0148683, -1.31651e-08, 0.552973, -0.213478, 0.686625, -0.0919022, 0.486037)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body8" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.0154305, 0.184509, 0.260757, 0.165725, -0.0118453, -0.0167404, -1.31651e-08, 0.443403, -0.240356, 0.653139, -0.515721, 0.486038)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body12" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.131621, 0.211683, 0.107079, 0.0440906, -0.472876, 0.0251512, 0.151533, 0.0356861, -0.235813, 0.511446, -0.927216, 0.158785)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body13" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.137669, -0.163905, 0.104404, -0.0286547, -0.485783, -0.0319784, 0.151533, 0.0356861, -0.235813, -0.55009, -1.03867, 0.1136)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body9" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.00332899, -0.308286, 0.188144, 0.165725, -0.0147725, -0.0148683, 0.0227294, 0.458245, 0.295089, -0.68707, -0.515721, 0.486038)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body10" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.00332899, -0.308286, 0.188144, 0.165725, -0.0147725, -0.0148683, 0.0227294, 0.458245, 0.295089, -0.699042, -0.0983768, 0.486037)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Body11" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.108605, -0.270835, 0.150064, 0.139018, 0.122168, -0.0960439, 0.023705, 0.459135, 0.2944, -0.665955, 0.348895, 0.486037)
material_override = SubResource("StandardMaterial3D_liqiy")
mesh = SubResource("CapsuleMesh_va1r7")
skeleton = NodePath("../..")

[node name="Head" type="MeshInstance3D" parent="PlayerCharacterBody3D/PlayerModel/Body"]
transform = Transform3D(0.843431, 6.36697e-10, -1.80529e-09, 1.50806e-09, -0.0088438, 0.697285, 5.99757e-11, -1.12655, -0.0180667, 3.72529e-09, -0.827218, -0.143143)
mesh = SubResource("SphereMesh_gr5ao")
skeleton = NodePath("../..")

[node name="DashCooldownTimer" type="Timer" parent="PlayerCharacterBody3D"]
wait_time = 0.6
one_shot = true

[node name="SenseCooldownTimer" type="Timer" parent="PlayerCharacterBody3D"]
wait_time = 5.0
one_shot = true

[node name="ActiveSenseTime" type="Timer" parent="PlayerCharacterBody3D"]
wait_time = 6.0
one_shot = true

[node name="PauseMenu" parent="PlayerCharacterBody3D" instance=ExtResource("8_p1cf0")]
visible = false

[connection signal="hidden" from="PlayerCharacterBody3D/Control/Crosshair" to="PlayerCharacterBody3D" method="_on_crosshair_hidden"]
